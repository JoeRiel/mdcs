-*- org -*-

* DONE mds-eval-and-prettyprint writes procedure to live-buf, which screws up operation
  CLOSED: [2011-06-04 Sat 09:07]
  1. Problem occurs because [[file:maple/src/Format.mm::prettyprint%20proc%20top%20truefalse%20true][prettyprint]] calls ':-showstat'.  Changed
     to showstat (which is mdc:-Format:-showstat).
  2. That fails because `mds-showstat-statement' is not being set correctly.
     It cannot be, since we are calling from Maple.  Two obvious solutions:
     1. Handle the error (simple);
     2. Clear [[file:lisp/mds-showstat.el::clear%20variable%20so%20next%20time%20we%20do%20not%20search][mds-showstat-statement]] after use.
  3. Try 2 first.  It can probably be made to work, however,
     mds-showstat-statement is currently not buffer-local.  Making
     it buffer-local (I don't believe it is intended to communicate
     between live and dead buffers.  That seems to fix the problem.

* DONE [[file:lisp/mds-showstat.el::defun%20mds%20eval%20and%20prettyprint%20expr][mds-eval-and-prettyprint]] writes <type> to client, not server
  CLOSED: [2011-06-04 Sat 09:07]
  1. The actual culprit is [[file:maple/src/Format.mm::prettyprint%20proc%20top%20truefalse%20true][mdc:-Format:-prettyprint]], which calls printf.
  2. Fixed by renaming mdc:-Debugger:-_print to [[file:maple/src/Debugger.mm::Printf%20proc][mdc:-Debugger:-Printf]],
     making it an export of mdc:-Debugger, and then replacing all printf
     statements with it.
